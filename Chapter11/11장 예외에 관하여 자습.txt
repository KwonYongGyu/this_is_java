11장 예외에 관하여 자습

1. 예외란? : 프로그램의 안전벨트이다.
프로그램은 완벽할 수 없다. 사용자가 실수를 하거나 인터넷이 끊길 수도 있다.
예외 : 이상 상황에서는 그냥 두면 프로그램은 강제 종료된다.
예외 처리 : 비정상 상황에서 사용자에게 알리고 우회로를 만들어주는 작업

2. 예외의 가계도
자바에서 예외는 모두 객체이다. 부모 - 자식 관계가 존재한다.
Trowable : 모든 에러와 예외의 조상
Error : 하드웨어 고장처럼 프로그래머가 코드로 고칠 수 없는 심각한 문제(무시해야 함)
Exception(Checked Exception) : 컴파일러가 꼭 예외처리 해야한다고 알려주는 예외
RuntimeException(Unchecked Exception) : 실행해 봐야 하는 예외로 프로그래머의 실수인 경우가 많아 컴파일러가 체크하지 않는다.(0으로 나누기, null 참조 등)

3. 예외 처리 3단계 : try - catch - finally
try{
	// [1] 위험한 코드(에러가 날 수도 있는 부분)
	System.out.println(10 / 0); // 0으로 나눔
   } catch (ArithmeticException e){
	// [2] 수습 코드 (에러가 났을 때만 실행)
	System.out.println("0으로 나눌 수 없습니다.!");
   } finally {
	// [3] 마무리 코드 (성공하든 실패하든 '무조건 실행')
	System.out.println("계산 시도 완료");
   }
꿀팁 : 다형성이 적용되기 때문에, catch문에 자식클래스 (NullPointerException)를 먼저 쓰고
	, 마지막에 조상 클래스(Exception)를 써서 "그 외 모든 에러"를 잡아주는게 정석이다.

4. 예외 던지기 : throw vs throws
키워드	역할			사용위치			비유
throw		예외를 발생시킴	메소드 내부에 작성	"여기 폭탄(예외 객체) 투척!"
throws	예외를 떠넘김	메소드 선언부(이름 옆)	"여기서 문제 생기면 나를 호출한 놈이 처리해!"
예시
public void checkBattery(int level) throws Battery5PercentLessThanException { // 나 호출한 놈이 처리해!
    if (level < 5) {
        throw new Battery5PercentLessThanException(); // 자, 예외 발생한다! 받아라!
    }
}

5. 사용자 정의 예외
자바가 제공하는 예외(예: NullPointerException) 말고도, **배터리 부족 예외**처럼 내가 직접 만들 수도 있다. RuntimeException을 상속 받으면 끝이다.
public class Battery5PercentLessThanException extends RuntimeException {
	public Battery5PercentLEssThanException(){
		super("배터리가 5% 미만이라 위험합니다.!");
	}
}
요약정리
1. 예외처리는 프로그램이 죽지 않게 우회로를 만드는것이다.
2. try는 시도, catch는 수습, finally는 무조건 마무리한다.
3. 다형성 덕분에 조상 타입(Exception)으로 모든 자식예외를 한 번에 잡을 수 있다.
4. 내가 직접 예외를 만들 때는 RuntimeException을 상속 받으면 편하다.
